import{U as c,e as l,d as w,o as i,c as a,b as r,t as z,h as b,g as h,v as R,i as p,j as m,s as u}from"./index.d6eaf57d.js";const t=c();var d={async saveOwnerRezID(n){return l.put("https://conifer2.tae.tax/users/host_profile",{owner_rez_account_id:n},{headers:{Authorization:`Bearer ${t.accessToken}`}}).then(e=>(t.ownerRezID=n,e))},async syncOwnerRez(){return l.post("https://conifer2.tae.tax/ownerrez/sync",{},{headers:{Authorization:`Bearer ${t.accessToken}`}}).then(n=>(t.isSyncingOwnerRez=!0,n))},async removeOwnerRez(){return l.post("https://conifer2.tae.tax/ownerrez/disassociate",{},{headers:{Authorization:`Bearer ${t.accessToken}`}}).then(n=>(t.ownerRezID="",n))}};const y={key:0},f=r("h2",null,"OwnerRez",-1),g={class:"flex flex-row"},v={class:"basis-1/2"},O=m(" Status: "),k={key:0},_={key:1},D={class:"basis-1/2 text-right"},I=r("h3",null,"OwnerRez",-1),x=[I],S={key:2,class:"border-2 border-black-500/50 p-7 rounded-xl"},A={class:"pt-4"},$={class:"pb-7"},B=r("label",{for:"ownerRezAccountID",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Account ID",-1),F=r("div",{class:"w-full text-right"},[r("input",{type:"submit",class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",value:"Submit"})],-1),T={data(){const n=c(),{ownerRezID:e}=u(n),{isSyncingOwnerRez:o}=u(n);return{email:n.email,ownerRezID:e,isSyncingOwnerRez:o,showOwnerRezForm:!1,ownerRezAccountID:"ora7ccdcde3cx"}},methods:{submitOwnerRez(){d.saveOwnerRezID(this.ownerRezAccountID).then(()=>d.syncOwnerRez()).then(()=>{this.$router.push("/host")})},syncOwnerRez(){d.syncOwnerRez()},removeOwnerRez(){d.removeOwnerRez()}}},N=w({...T,__name:"OwnerRezIntegration",setup(n){return(e,o)=>e.ownerRezID?(i(),a("div",y,[f,r("div",g,[r("div",v,[r("p",null,"Account ID: "+z(e.ownerRezID),1),r("p",null,[O,e.isSyncingOwnerRez?(i(),a("span",k,"In Progress")):(i(),a("span",_,"Synced"))])]),r("div",D,[r("button",{onClick:o[0]||(o[0]=(...s)=>e.syncOwnerRez&&e.syncOwnerRez(...s)),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-1 px-4 mr-3 rounded-full"}," Sync Now "),r("button",{onClick:o[1]||(o[1]=(...s)=>e.removeOwnerRez&&e.removeOwnerRez(...s)),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-4 rounded-full"}," Remove ")])])])):e.showOwnerRezForm?(i(),a("div",S,[r("button",{onClick:o[3]||(o[3]=s=>e.showOwnerRezForm=!e.showOwnerRezForm)},"OwnerRez"),r("div",A,[r("form",{class:"owner-rez-form",action:".",onSubmit:o[5]||(o[5]=b((...s)=>e.submitOwnerRez&&e.submitOwnerRez(...s),["prevent"]))},[r("div",$,[B,h(r("input",{type:"text",id:"ownerRezAccountID","onUpdate:modelValue":o[4]||(o[4]=s=>p(ownerRezAccountID)?ownerRezAccountID.value=s:null),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[R,e.ownerRezAccountID]])]),F],32)])])):(i(),a("div",{key:1,onClick:o[2]||(o[2]=s=>e.showOwnerRezForm=!e.showOwnerRezForm),class:"border-2 border-black-500/50 p-7 rounded-xl mb-4 cursor-pointer"},x))}});export{N as _};
